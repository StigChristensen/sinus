{"version":3,"sources":["main.js"],"names":["scrollTo","value","$","animate","scrollTop","trimString","string","length","trim","indexOf","substring","setTemplate","e","template","featured_src","title","price_html","id","validateEmail","email","regex","test","validateInput","input","allowedChars","validateNumber","isNumber","shopMsg","msg","atcModal","velocity","opacity","top","z-index","duration","delay","easing","find","html","append","setTimeout","css","setMenuHeight","mainMenu","documentHeight","height","console","log","jQuery","document","on","infiniteScrollController","CartController","MenuController","gridCartController","embedVidController","productTextController","singleProductHeightController","removeFromCartController","reserveFormController","scrollHeaderController","fpVideoController","fpBackgroundController","focus","this","addClass","blur","removeClass","storageAvailable","type","storage","window","x","setItem","removeItem","setPageIndex","index","pageIndex","getPageIndex","p","setMaxPages","max","maxPages","setQueryType","parts","url","split","query","param","getQueryType","initialize","container","data","queryParams","key","productsCache","localStorage","products","JSON","parse","getItem","render","getPosts","action","queryType","offset","limit","dataObj","stringify","ajax","site","ajax_url","dataType","success","response","error","grid","spinner","hasClass","each","i","k","location","href","imagesHandler","setIndex","firstImg","display","img","attr","theme_path","bgContainer","controller","j","getIndex","curImg","newImg","animateIn","animateOut","image","n","newIndex","complete","load","addEventListeners","vid","addEventListener","animShowVideo","animOutVideo","vidHeight","vidElement","movingContent","paused","play","getElementById","width","modifyHeader","scroll","linkHeader","validateEmailOnBlur","emailInput","val","isEmail","validateNameOnBlur","nameInput","isTrustedCharacters","validateNumberOnBlur","phoneInput","submitListener","packData","dataObject","customer_html","inputArray","customer_email","sendForm","customerData","stripResponse","animateSuccess","form","validSuccess","submitBtn","event","preventDefault","inputs","object","name","push","toggleClass","textIcon","productLeft","productRight","handler","contentHeight","imageHeight","mainImage","initVideo","vidUrl","vidFrame","vidId","constructedHtml","addBtn","cart","prodTitle","cartNumber","cartInt","parseInt","text","product_id","updatedNum","remBtn","qtyElem","siblings","qty","quantity","animateMenu","updateHeaderOpen","updateHeaderClose","rawIconCss","cartIcon","rawSearchCss","searchForm","rawCartContCss","cartContents","iconRight","replace","searchRight","cartContRight","right","menuLinks","aHref","elem","menuHeaders","navigate","menuBtn"],"mappings":"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","file":"main.min.js","sourcesContent":["// Test if ie10 - adds class \"ie10\" to HTML tag, if true. - Excludes IE11\nif (/*@cc_on!@*/false && document.documentMode === 10) {\n    document.documentElement.className+=' ie10';\n}\n\njQuery(document).on('ready', function() {\n  $ = jQuery;\n\n  new infiniteScrollController();\n  new CartController();\n  new MenuController();\n  new gridCartController();\n  new embedVidController();\n  new productTextController();\n  new singleProductHeightController();\n  new removeFromCartController();\n  new reserveFormController();\n  new scrollHeaderController();\n  new fpVideoController();\n  new fpBackgroundController();\n\n  // labels for input fields\n  $(\"form :input\").focus(function() {\n    $(\"label[for='\" + this.id + \"']\").addClass(\"focus\");\n  }).blur(function() {\n    $(\"label\").removeClass(\"focus\");\n  });\n}); // End Ready\n\nfunction scrollTo(value) {\n  $('html, body').animate({\n    scrollTop: value\n  }, 700);\n}\n\nvar infiniteScrollController = function() {\n  var url = window.location.href;\n\n  if ( url.indexOf('/type/') === -1 && url.indexOf('/brands/') === -1 ) {\n    console.log('Exited from productsModel');\n    return;\n  }\n\n  var productsCache,\n      products,\n      storage = storageAvailable('localStorage'),\n      target = $('body').find('.product-list-grid'),\n      pageIndex,\n      maxPages,\n      type,\n      brand,\n      key,\n      query = {};\n      initialize();\n\n  function storageAvailable(type) {\n    try {\n      var storage = window[type],\n        x = '__storage_test__';\n      storage.setItem(x, x);\n      storage.removeItem(x);\n      return true;\n    }\n    catch(e) {\n      return false;\n    }\n  }\n\n  function setPageIndex(index) {\n    pageIndex = index;\n  }\n\n  function getPageIndex() {\n    var p = pageIndex;\n    return p;\n  }\n\n  function setMaxPages(max) {\n    maxPages = max;\n  }\n\n  function getMaxPages() {\n    var p = maxPages;\n    return p;\n  }\n\n  function setQueryType() {\n    var parts;\n    if ( url.indexOf('/type/') !== -1 ) {\n      parts = url.split('/');\n\n      query = {\n        type: 'type',\n        param: parts[4]\n      }\n    }\n\n    if ( url.indexOf('/brands/') !== -1 ) {\n      parts = url.split('/');\n\n      query = {\n        type: 'brand',\n        param: parts[4]\n      }\n    }\n  }\n\n  function getQueryType() {\n    return query;\n  }\n\n  function initialize() {\n    var container = $('body').find('.products-container'),\n        pageIndex = $(container).data('page'),\n        maxPages = $(container).data('maxpages'),\n        type = $(container).data('cat'),\n        brand = $(container).data('tag');\n        setQueryType();\n        setMaxPages(maxPages);\n\n    if ( !pageIndex || pageIndex > maxPages ) {\n      setPageIndex(1);\n    } else {\n      setPageIndex(pageIndex);\n    }\n\n    var int = getPageIndex();\n    var queryParams = getQueryType();\n    key = queryParams.type + '_' + queryParams.param;\n\n    if ( storage ) {\n      productsCache = localStorage,\n      products = JSON.parse(productsCache.getItem(key));\n      if (products) {\n        console.log('From localStorage');\n        render(products);\n      } else {\n        console.log('Nothing in localStorage');\n        getPosts();\n      }\n    } else {\n      // load something else, maybe\n      console.log('no localStorage for us');\n    }\n  }\n\n  function getPosts() {\n    var queryType = getQueryType(),\n        action,\n        type = queryType.type;\n\n    if ( type === 'type' ) {\n      action = '?action=sinus_type';\n    }\n    if ( type === 'brand' ) {\n      action = '?action=sinus_brand';\n    }\n\n    var queryParams = {\n        offset: 0,\n        limit: -1,\n        param: queryType.param\n    },\n    dataObj = JSON.stringify(queryParams);\n\n    $.ajax({\n      url: site.ajax_url + action,\n      type: \"POST\",\n      data: dataObj,\n      dataType: 'json',\n      success: function(response) {\n        products = response.products;\n        productsCache.setItem(key, JSON.stringify(products));\n        console.log('From ajax call: ', products);\n        render(products);\n      },\n      error: function(response) {\n        console.log(response);\n      }\n    });\n  }\n\n  function render(products) {\n    var grid = $('body').find('.product-list-grid'),\n        spinner = $('body').find('.spinner'),\n        length = products.length;\n\n    if ( !$(spinner).hasClass('hidden') ) {\n      $(spinner).addClass('hidden');\n    }\n\n    var pageIndex = 1;\n    var html = '<div class=\"page products page-1\">';\n        html += '<ul class=\"products\">';\n\n        $(products).each(function(i, e) {\n          var k = i + 1;\n          var template = setTemplate(e);\n          html += template;\n\n          if ( k % 24 === 0 && i < length ) {\n            pageIndex++;\n            html += '</ul>';\n            html += '</div>';\n            html += '<div class=\"page products page-' + pageIndex + ' hidden\">';\n            html += '<ul class=\"products\">';\n          }\n        });\n\n        html += '</ul>';\n        html += '</div>';\n\n      $(grid).append(html);\n  }\n}\n\nfunction trimString(string, length){\n    var trim = string.indexOf(' ', length);\n    if( trim === -1 ) return string;\n    return string.substring(0, trim);\n}\n\nfunction setTemplate(e) {\n  var template = '<li class=\"product\" itemscope itemtype=\"http://schema.org/Product\">';\n      template += '<img src=\"' + e.featured_src + '\" alt=\"' + e.title + ' product image produktbillede Sinus-store Copenhagen København Denmark\" />';\n      template += '<div class=\"product-price\">' + e.price_html + '<div class=\"add-button\" data-href=\"' + e.id + '\" data-title=\"' + e.title + '\"><svg version=\"1.1\" baseProfile=\"tiny\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"x=\"0px\" y=\"0px\" viewBox=\"0 0 60 60\" xml:space=\"preserve\"><line class=\"svg-line\" fill=\"none\" stroke=\"#007c96\" stroke-width=\"10\" stroke-miterlimit=\"10\" x1=\"30\" y1=\"6\" x2=\"30\" y2=\"54\"/><line class=\"svg-line\" fill=\"none\" stroke=\"#007c96\" stroke-width=\"10\" stroke-miterlimit=\"10\" x1=\"6\" y1=\"30\" x2=\"54\" y2=\"30\"/></svg><span class=\"add-info\">Tilføj til kurv</span></div></div>';\n      template += '<div class=\"sinus-product-info\"><div class=\"product-title\" itemprop=\"name\"><h3>' + e.title + '</h3></div><div class=\"short-desc\" itemprop=\"description\">' + e.title + '</div></div>';\n      template += '</li>';\n\n  return template;\n}\n\nvar fpBackgroundController = function() {\n  var bgContainer = $('body').find('.bg-container'),\n      firstImg = $(bgContainer).find('img'),\n      index;\n\n  if ( !bgContainer ) {\n    return;\n  }\n\n  if ( firstImg && firstImg[0] ) {\n    if (firstImg[0].complete) {\n      imagesHandler();\n    } else {\n      firstImg.load(imagesHandler);\n    }\n  }\n\n  function imagesHandler() {\n    setIndex(1);\n    $(firstImg).velocity({\n      'opacity': 1\n    }, {duration: 500, delay: 0, display: 'block', easing: [.24,.63,.5,.99]});\n\n    for( var i = 2; i < 7; i++ ) {\n      var img = $('<img />').attr('src', site.theme_path + '/img/bg/bg' + i + '.png').attr('class', 'bg-' + i);\n      $(bgContainer).append(img);\n    }\n\n    setTimeout(controller, 8000);\n  }\n\n  function controller() {\n    var j = getIndex(),\n        k = j+1;\n\n    if ( k > 6 ) {\n      k = 1;\n    }\n\n    var curImg = $(bgContainer).find('img.bg-' + j),\n        newImg = $(bgContainer).find('img.bg-' + k);\n\n    animateIn(newImg);\n    animateOut(curImg);\n\n    setIndex(k);\n\n    setTimeout(controller, 4000);\n  }\n\n  function animateIn(image) {\n    $(image).velocity({\n      'opacity': 1\n    }, {duration: 1000, delay: 0, display: 'block', easing: [.24,.63,.5,.99]});\n  }\n\n  function animateOut(image) {\n    $(image).velocity({\n      'opacity': 0\n    }, {duration: 1000, delay: 0, display: 'block', easing: [.24,.63,.5,.99]});\n  }\n\n  function getIndex() {\n    n = index;\n    return n;\n  }\n\n  function setIndex(newIndex) {\n    index = newIndex;\n  }\n}\n\nvar fpVideoController = function() {\n  var vid = document.getElementById('frontpage-video');\n\n  if (!vid) {\n    return;\n  } else {\n    var spinner = $('body').find('.spinner'),\n        container = $('body').find('.front-video-container'),\n        vidElement = $(container).find('#frontpage-video'),\n        movingContent = $('body').find('.moving-content'),\n        width = $(window).width(),\n        vidHeight = ((width/100*80)/16)*9;\n\n    addEventListeners();\n  }\n\n  function addEventListeners() {\n    vid.addEventListener('canplaythrough', animShowVideo);\n    vid.addEventListener('ended', animOutVideo);\n  }\n\n  function animShowVideo() {\n    $(spinner).addClass('hidden');\n\n    $(container).velocity({\n      'height': vidHeight\n    }, {duration: 700, delay: 0, easing: [.24,.63,.5,.99]});\n\n    $(vidElement).velocity({\n      'opacity': 1\n    }, {duration: 700, delay: 0, display: 'block', easing: [.24,.63,.5,.99]});\n\n    $(movingContent).velocity({\n      'top': vidHeight + 30\n    }, {duration: 700, delay: 0, display: 'block', easing: [.24,.63,.5,.99]});\n\n    setTimeout(function() {\n      if ( vid.paused ) {\n        vid.play();\n      }\n    }, 700);\n  }\n\n  function animOutVideo() {\n    $(vidElement).velocity({\n      'opacity': 0\n    }, {duration: 300, delay: 0, display: 'block', easing: [.24,.63,.5,.99]});\n\n    $(container).velocity({\n      'height': 60\n    }, {duration: 1000, delay: 400, easing: [.24,.63,.5,.99]});\n\n    $(movingContent).velocity({\n      'top': 90\n    }, {duration: 1000, delay: 400, display: 'block', easing: [.24,.63,.5,.99]});\n\n    scrollTo(0);\n  }\n}\n\n\nvar scrollHeaderController = function() {\n  var linkHeader = $('body').find('.header-link-row'),\n      width = $(window).width(),\n      scroll;\n\n  $(window).on('scroll', modifyHeader);\n\n  function modifyHeader() {\n    scroll = $(window).scrollTop();\n\n    if ( scroll > 500 ) {\n      $(linkHeader).addClass('hidden');\n    }\n    if ( scroll < 500 ) {\n      $(linkHeader).removeClass('hidden');\n    }\n  }\n}\n\nfunction validateEmail(email) {\n  var regex = /^(([^<>()[\\]\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i;\n  return regex.test(email);\n}\n\nfunction validateInput(input) {\n  var allowedChars = /^[\\u00C0-\\u1FFF\\u2C00-\\uD7FF\\w&.,\\- ]+$/;\n  return allowedChars.test(input);\n}\n\nfunction validateNumber(input) {\n  var isNumber = /^(?=.*[0-9])[+()0-9]+$/;\n  return isNumber.test(input);\n}\n\nvar reserveFormController = function() {\n  var form = $('body').find('form.reserve'),\n      emailInput = $(form).find('input[type=email]'),\n      nameInput = $(form).find('input[type=text].name'),\n      phoneInput = $(form).find('input[type=text].phone'),\n      submitBtn = $(form).find('.submit-btn > a');\n\n  function validateEmailOnBlur() {\n    $(emailInput).on('blur', function() {\n      var value = $(this).val();\n\n      if ( value.length === 0 ) {\n        if ( $(this).hasClass('error') ) {\n          $(this).removeClass('error');\n        }\n        return;\n      }\n\n      if ( value.length !== 0 ) {\n        var isEmail = validateEmail(value);\n\n        if( !isEmail && !$(this).hasClass('error') ) {\n          $(this).addClass('error');\n        }\n\n        if( isEmail && $(this).hasClass('error') ) {\n          $(this).removeClass('error');\n        }\n      }\n    });\n  }\n\n  function validateNameOnBlur() {\n    $(nameInput).on('blur', function() {\n      var value = $(this).val();\n\n      if ( value.length === 0 ) {\n        if ( $(this).hasClass('error') ) {\n          $(this).removeClass('error');\n        }\n        return;\n      }\n\n      if ( value.length !== 0 ) {\n        var isTrustedCharacters = validateInput(value);\n\n        if( !isTrustedCharacters && !$(this).hasClass('error') ) {\n          $(this).addClass('error');\n        }\n\n        if( isTrustedCharacters && $(this).hasClass('error') ) {\n          $(this).removeClass('error');\n        }\n      }\n    });\n  }\n\n  function validateNumberOnBlur() {\n    $(phoneInput).on('blur', function() {\n      var value = $(this).val();\n\n      if ( value.length === 0 ) {\n        if ( $(this).hasClass('error') ) {\n          $(this).removeClass('error');\n        }\n        return;\n      }\n\n      if ( value.length !== 0 ) {\n        var isNumber = validateNumber(value);\n\n        if ( !isNumber && !$(this).hasClass('error') ) {\n          $(this).addClass('error');\n        }\n\n        if ( isNumber && $(this).hasClass('error') ) {\n          $(this).removeClass('error');\n        }\n      }\n    });\n  }\n\n  function submitListener() {\n    $(submitBtn).on('click', function(event) {\n      event.preventDefault(),\n      inputs = $(form).find('input'),\n      validSuccess = $('body').find('.validation.success');\n      dataObject = {},\n      inputArray = [];\n\n      $(inputs).each(function(i, e) {\n        if ( $(e).hasClass('error') || $(e).val().length === 0 ) {\n          return;\n        } else {\n          var object = {\n            name: e.name,\n            value: $(e).val()\n          }\n          inputArray.push(object);\n        }\n      });\n\n      var data = packData();\n      sendForm(data);\n    });\n\n    function packData() {\n      dataObject.customer_html = '<h4>Navn:</h4><h2>' + inputArray[0].value + '</h2>';\n      dataObject.customer_html += '<h4>TLF:</h4><h2>' + inputArray[1].value + '</h2>';\n      dataObject.customer_html += '<h4>EMAIL:</h4><h2>' + inputArray[2].value + '</h2>';\n      dataObject.customer_email = inputArray[2].value;\n\n      return dataObject;\n    }\n\n    function sendForm(data) {\n      var customerData = JSON.stringify(data);\n\n        $.ajax({\n          url: site.ajax_url + '?action=reserve',\n          type: 'POST',\n          data: customerData,\n          success: function(response) {\n            var stripResponse = $.trim(response);\n            console.log(stripResponse);\n            if ( stripResponse === 'Success' ) {\n              animateSuccess();\n            }\n            if ( stripResponse === 'Error' ) {\n\n            }\n          },\n          error: function(response) {\n            console.log(response);\n          }\n        });\n    }\n\n    function animateSuccess() {\n      $(form).velocity({\n        'opacity': [0, 1]\n      }, {duration: 300, delay: 0, easing: [.24,.63,.5,.99], display: 'none'});\n\n      $(validSuccess).velocity({\n        'opacity': [1, 0]\n      }, {duration: 300, delay: 350, easing: [.24,.63,.5,.99], display: 'block'});\n\n      setTimeout(function() {\n        window.location.href = window.location.href;\n      }, 1000);\n    }\n  }\n\n  validateNumberOnBlur();\n  validateEmailOnBlur();\n  validateNameOnBlur();\n  submitListener();\n}\n\n\nfunction shopMsg(title, msg) {\n  var atcModal = $('body').find('.atc-modal');\n\n  if ( !msg ) {\n    var msg = '<span>- blev tilføjet til kurven.</span>';\n  } else {\n    var msg = msg;\n  }\n\n  var html = title + msg;\n\n  $(atcModal).append(html);\n\n  function animate() {\n    $(atcModal).velocity({\n      'opacity': [1, 0],\n      'top': [150, 300],\n      'z-index': [5000, 5000]\n    }, {duration: 400, delay: 0, easing: 'easeInOutSine'});\n\n    $(atcModal).velocity({\n      'opacity': [0, 1],\n      'top': [300, 150],\n      'z-index': 5000\n    }, {duration: 400, delay: 1400, easing: 'easeInOutSine'});\n  }\n\n  setTimeout(function() {\n    animate();\n  }, 100);\n\n  setTimeout(function() {\n    $(atcModal).html('');\n    $(atcModal).css({\n      'z-index': -1000\n    });\n  }, 2000);\n}\n\n\nvar productTextController = function() {\n  var textIcon = $('body').find('.text-icon'),\n      productLeft = $('body').find('.product-left'),\n      productRight = $('body').find('.product-right');\n\n  $(textIcon).on('click', function() {\n    toggleClass();\n  });\n\n  function toggleClass() {\n    $(textIcon).toggleClass('off');\n    $(productLeft).toggleClass('off');\n    $(productRight).toggleClass('off');\n  }\n\n  setTimeout(toggleClass, 800);\n}\n\nvar singleProductHeightController = function() {\n  var mainImage = $('.main-image img'),\n      iFrame = $('body').find('iframe');\n\n  if ( mainImage && mainImage[0] ) {\n    if (mainImage[0].complete) {\n      handler();\n    } else {\n      mainImage.load(handler);\n    }\n  } else {\n    return;\n  }\n\n  function handler() {\n    var contentHeight = $('.product-content').height(),\n        imageHeight = $('.main-image img').height();\n\n    if ( contentHeight && imageHeight < contentHeight ) {\n      $('.main-image').css({\n        'height': contentHeight + 'px'\n      });\n    } else {\n      return;\n    }\n    setMenuHeight();\n  }\n}\n\nvar embedVidController = function() {\n  var vidFrame = $('body').find('.youtube-frame');\n\n  if ( vidFrame.length > 0 ) {\n    initVideo();\n  } else {\n    return;\n  }\n\n  function initVideo() {\n    var vidUrl = $(vidFrame).attr('data-href');\n        if ( vidUrl.indexOf('=') !== -1 ) {\n          var vidId = vidUrl.split('='),\n              id = vidId[1];\n        } else {\n          var vidId = vidUrl.split('/');\n          id = vidId[3];\n        }\n\n    var width = $(window).width(),\n        height = (width / 16) * 9;\n\n    var constructedHtml = '<iframe width=\"' + width + '\" height=\"' + height + '\" src=\"https://www.youtube.com/embed/' + id + '?rel=0&amp;showinfo=0\" frameborder=\"0\" allowfullscreen></iframe>';\n\n    $(vidFrame).html(constructedHtml);\n  }\n};\n\n\nvar gridCartController = function() {\n  var addBtn = $('body').find('.add-button'),\n      cart = $('body').find('.cart-contents');\n\n\n  $(addBtn).each(function(i, e) {\n    var id = $(this).attr('data-href'),\n        prodTitle = $(this).attr('data-title');\n\n    $(this).on('click', function(event) {\n      event.preventDefault();\n      var cartNumber = $('body').find('.cart-icon h5'),\n          cartInt = parseInt($('body').find('.cart-icon h5').text()),\n          url = site.ajax_url + '?action=sinus_add',\n          dataObject = {\n            'product_id': id\n          }\n\n      data = JSON.stringify(dataObject);\n\n      $.ajax({\n        url: url,\n        type: 'POST',\n        data: data,\n        dataType: 'html',\n        success: function(response) {\n          var updatedNum = cartInt + 1;\n          cartNumber.html(updatedNum);\n          $(cart).html(response);\n          shopMsg(prodTitle);\n\n          setTimeout(function() {\n            window.location.href = window.location.href;\n          }, 2000);\n        },\n        error: function(response) {\n          console.log('error -', response);\n        }\n      });\n    });\n  });\n};\n\nvar removeFromCartController = function() {\n    var cart = $('body').find('.cart-contents'),\n        remBtn = $(cart).find('.remove-icon');\n\n  $(remBtn).each(function(i, e) {\n    var id = $(this).attr('data-id'),\n        qtyElem = $(this).siblings('.elem-qty-total'),\n        qty = parseInt($(qtyElem).attr('data-qty'));\n\n\n    $(this).on('click', function() {\n      console.log(qty, id);\n      var cartNumber = $('body').find('.cart-icon h5'),\n          cartInt = parseInt($('body').find('.cart-icon h5').text()),\n          url = site.ajax_url + '?action=sinus_remove',\n          dataObject = {\n            'product_id': id,\n            'quantity': qty\n          }\n\n      data = JSON.stringify(dataObject);\n\n      $.ajax({\n        url: url,\n        type: 'POST',\n        data: data,\n        dataType: 'html',\n        success: function(response) {\n          var updatedNum = cartInt - qty;\n          cartNumber.html(updatedNum);\n          $(cart).html(response);\n          window.location.href = window.location.href;\n        },\n        error: function(response) {\n          console.log('error -', response);\n        }\n      });\n    });\n  });\n};\n\nfunction setMenuHeight() {\n  setTimeout(function() {\n    var mainMenu = $('body').find('.main-menu'),\n        siteContent = $('body').find('.site-content'),\n        documentHeight = $('.site-content').height();\n\n    console.log(documentHeight);\n\n     // set menu height, relative to content height (minus footer)\n    $(mainMenu).css({\n      'height': documentHeight - 325 + 'px'\n    });\n  }, 1000);\n}\n\nvar MenuController = function() {\n  var menuBtn = $('body').find('.menu-icon'),\n      mainMenu = $('body').find('.main-menu'),\n      menuLinks = $(mainMenu).find('li'),\n      menuHeaders = $(mainMenu).find('h3'),\n      searchForm = $('body').find('.search-form'),\n      cartIcon = $('body').find('.cart-icon'),\n      cartContents = $('body').find('.cart-modal.cart-contents'),\n      width = $(window).width();\n      setMenuHeight();\n\n      $(menuBtn).on('click', animateMenu);\n\n      function animateMenu() {\n        if ( $(mainMenu).hasClass('hidden') ) {\n          $(mainMenu).removeClass('hidden');\n          $(this).addClass('open');\n          scrollTo('0px');\n          updateHeaderOpen();\n          addEventListener();\n        } else {\n          $(mainMenu).addClass('hidden');\n          $(this).removeClass('open');\n          updateHeaderClose();\n        }\n      }\n\n\n      function updateHeaderOpen() {\n        var rawIconCss = $(cartIcon).css('right'),\n            rawSearchCss = $(searchForm).css('right'),\n            rawCartContCss = $(cartContents).css('right'),\n            iconRight = parseInt(rawIconCss.replace('px', '')),\n            searchRight = parseInt(rawSearchCss.replace('px', '')),\n            cartContRight = parseInt(rawCartContCss.replace('px', ''));\n\n\n            $(cartIcon).velocity({\n              'right': iconRight + 230 + 'px'\n            }, {duration: 400, delay: 100, easing: [.24,.63,.5,.99]});\n\n            $(searchForm).velocity({\n              'right': searchRight + 230 + 'px'\n            }, {duration: 400, delay: 0, easing: [.24,.63,.5,.99]});\n\n            $(cartContents).velocity({\n              'right': cartContRight + 230 + 'px'\n            }, {duration: 400, delay: 150, easing: [.24,.63,.5,.99]});\n      }\n\n      function updateHeaderClose() {\n            $(cartIcon).velocity({\n              'right': 90\n            }, {duration: 300, delay: 200, easing: [.24,.63,.5,.99]});\n\n            $(searchForm).velocity({\n              'right': 165\n            }, {duration: 300, delay: 300, easing: [.24,.63,.5,.99]});\n\n            $(cartContents).velocity({\n              'right': 80\n            }, {duration: 300, delay: 250, easing: [.24,.63,.5,.99]});\n      }\n\n      function addEventListener() {\n        $(menuLinks).on('click', function(e) {\n          e.preventDefault();\n          var aHref =  $(this).find('a');\n          var href = $(aHref).attr('href');\n\n          $(menuLinks).each(function(i, elem) {\n            var delay = i * 20;\n\n            $(elem).velocity({\n              'opacity': [0, 1]\n            }, {duration: 100, delay: delay, easing: 'easeInOutSine'});\n\n          });\n\n          $(menuHeaders).each(function(i, elem) {\n            var delay = i * 30;\n\n            $(elem).velocity({\n              'opacity': [0, 1]\n            }, {duration: 100, delay: delay, easing: 'easeInOutSine'});\n          });\n\n          setTimeout(navigate(href), 1200);\n        });\n      }\n\n      function navigate(href) {\n        setTimeout(function() {\n          $(menuBtn).removeClass('open');\n          $(mainMenu).addClass('hidden');\n          updateHeaderClose();\n        }, 1000);\n\n        setTimeout(function() {\n          window.location.href = href;\n        }, 1300);\n      }\n};\n\n\nvar CartController = function() {\n  var cartIcon = $('body').find('.cart-icon'),\n      cartContents = $('body').find('.cart-modal.cart-contents');\n\n  $(cartIcon).on('click', function(e) {\n    $(cartContents).toggleClass('hidden');\n  });\n}\n\n\n// http://sin.us/wp-json/posts?type=product&filter[product_cat]=hifi&filter[orderby]=price&filter[order]=asc\n\n"],"sourceRoot":"/source/"}