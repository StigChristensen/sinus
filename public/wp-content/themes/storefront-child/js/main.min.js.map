{"version":3,"sources":["main.js"],"names":["scrollTo","value","$","animate","scrollTop","productsController","promise","productsSupplyer","then","products","render","sortPriceController","storageAvailable","type","storage","window","x","setItem","removeItem","e","setPageIndex","index","pageIndex","getPageIndex","p","setMaxPages","max","maxPages","setQueryType","parts","url","indexOf","split","query","param","getQueryType","initialize","container","find","data","queryParams","key","productsCache","localStorage","JSON","parse","getItem","def","resolve","getPosts","console","log","action","queryType","offset","limit","dataObj","stringify","ajax","site","ajax_url","dataType","success","response","error","location","href","Deferred","tags","brands","categories","grid","spinner","pages","length","hasClass","addClass","each","i","remove","html","k","push","template","setTemplate","append","sortTags","scrollController","setMenuHeight","page","removeClass","setTimeout","gridCartController","catHtml","brandHtml","menuLeft","categoryContainer","brandContainer","_","uniq","pCat","pBrand","cat","brand","sortController","on","delay","velocity","opacity","duration","display","easing","detach","returnSortedCat","returnSortedBrand","newProductsPromise","sorted","defer","newProducts","cats","returnSortedPriceLow","sortPrice","a","b","price","initArray","object","parseInt","element","initialSort","sort","j","f","returnSortedPriceHigh","reverse","setDirection","dir","direction","getDirection","priceSorter","currentDir","sortedPrice","updateView","trig","content","windowHeight","height","scroll","document","requestAnimationFrame","stockIcon","in_stock","desc","description","trunc","splice","join","featured_src","title","price_html","id","validateEmail","email","regex","test","validateInput","input","allowedChars","validateNumber","isNumber","shopMsg","msg","atcModal","top","z-index","css","mainMenu","documentHeight","jQuery","CartController","MenuController","embedVidController","productTextController","singleProductHeightController","removeFromCartController","reserveFormController","scrollHeaderController","fpVideoController","fpBackgroundController","focus","this","blur","imagesHandler","setIndex","firstImg","img","attr","theme_path","bgContainer","controller","getIndex","curImg","newImg","animateIn","animateOut","image","n","newIndex","complete","load","addEventListeners","vid","addEventListener","animShowVideo","animOutVideo","vidHeight","vidElement","movingContent","paused","play","getElementById","width","modifyHeader","linkHeader","validateEmailOnBlur","emailInput","val","isEmail","validateNameOnBlur","nameInput","isTrustedCharacters","validateNumberOnBlur","phoneInput","submitListener","packData","dataObject","customer_html","inputArray","customer_email","sendForm","customerData","stripResponse","trim","animateSuccess","form","validSuccess","submitBtn","event","preventDefault","inputs","name","toggleClass","textIcon","productLeft","productRight","handler","contentHeight","imageHeight","mainImage","initVideo","vidUrl","vidFrame","vidId","constructedHtml","addBtn","cart","prodTitle","cartNumber","cartInt","text","product_id","updatedNum","remBtn","qtyElem","siblings","qty","quantity","animateMenu","updateHeaderOpen","updateHeaderClose","rawIconCss","cartIcon","rawSearchCss","searchForm","rawCartContCss","cartContents","iconRight","replace","searchRight","cartContRight","right","menuLinks","aHref","elem","menuHeaders","navigate","menuBtn"],"mappings":"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","file":"main.min.js","sourcesContent":["// Test if ie10 - adds class \"ie10\" to HTML tag, if true. - Excludes IE11\nif (/*@cc_on!@*/false && document.documentMode === 10) {\n    document.documentElement.className+=' ie10';\n}\n\njQuery(document).on('ready', function() {\n  $ = jQuery;\n\n\n  new CartController();\n  new MenuController();\n  // new gridCartController();\n  new embedVidController();\n  new productTextController();\n  new singleProductHeightController();\n  new removeFromCartController();\n  new reserveFormController();\n  new scrollHeaderController();\n  new fpVideoController();\n  new fpBackgroundController();\n  productsController();\n\n  // labels for input fields\n  $(\"form :input\").focus(function() {\n    $(\"label[for='\" + this.id + \"']\").addClass(\"focus\");\n  }).blur(function() {\n    $(\"label\").removeClass(\"focus\");\n  });\n}); // End Ready\n\nvar documentHeight;\n\nfunction scrollTo(value) {\n  $('html, body').animate({\n    scrollTop: value\n  }, 700);\n}\n\nfunction productsController() {\n  var promise = productsSupplyer();\n  promise.then(function(products) {\n    render(products);\n  });\n  sortPriceController();\n}\n\nfunction productsSupplyer() {\n  var url = window.location.href;\n  var def = $.Deferred();\n\n  if ( url.indexOf('/type/') === -1 && url.indexOf('/brands/') === -1 ) {\n    console.log('Exited from productsModel');\n    return;\n  }\n\n  var productsCache,\n      products,\n      storage = storageAvailable('localStorage'),\n      target = $('body').find('.product-list-grid'),\n      pageIndex,\n      maxPages,\n      type,\n      brand,\n      key,\n      query = {};\n      tags = {\n        brands: [],\n        categories: []\n      };\n      initialize();\n\n  function storageAvailable(type) {\n    try {\n      var storage = window[type],\n        x = '__storage_test__';\n      storage.setItem(x, x);\n      storage.removeItem(x);\n      return true;\n    }\n    catch(e) {\n      return false;\n    }\n  }\n\n  function setPageIndex(index) {\n    pageIndex = index;\n  }\n\n  function getPageIndex() {\n    var p = pageIndex;\n    return p;\n  }\n\n  function setMaxPages(max) {\n    maxPages = max;\n  }\n\n  function getMaxPages() {\n    var p = maxPages;\n    return p;\n  }\n\n  function setQueryType() {\n    var parts;\n    if ( url.indexOf('/type/') !== -1 ) {\n      parts = url.split('/');\n\n      query = {\n        type: 'type',\n        param: parts[4]\n      }\n    }\n\n    if ( url.indexOf('/brands/') !== -1 ) {\n      parts = url.split('/');\n\n      query = {\n        type: 'brand',\n        param: parts[4]\n      }\n    }\n  }\n\n  function getQueryType() {\n    return query;\n  }\n\n  function initialize() {\n    var container = $('body').find('.products-container'),\n        pageIndex = $(container).data('page'),\n        maxPages = $(container).data('maxpages'),\n        type = $(container).data('cat'),\n        brand = $(container).data('tag');\n        setQueryType();\n        setMaxPages(maxPages);\n\n    if ( !pageIndex || pageIndex > maxPages ) {\n      setPageIndex(1);\n    } else {\n      setPageIndex(pageIndex);\n    }\n\n    var int = getPageIndex();\n    var queryParams = getQueryType();\n    key = queryParams.type + '_' + queryParams.param;\n\n    if ( storage ) {\n      productsCache = localStorage,\n      products = JSON.parse(productsCache.getItem(key));\n      if (products) {\n        def.resolve(products);\n      } else {\n        getPosts();\n      }\n    } else {\n      // load something else, maybe\n      console.log('no localStorage for us');\n    }\n  }\n\n  function getPosts() {\n    var queryType = getQueryType(),\n        action,\n        type = queryType.type;\n\n    if ( type === 'type' ) {\n      action = '?action=sinus_type';\n    }\n    if ( type === 'brand' ) {\n      action = '?action=sinus_brand';\n    }\n\n    var queryParams = {\n        offset: 0,\n        limit: -1,\n        param: queryType.param\n    },\n    dataObj = JSON.stringify(queryParams);\n\n    $.ajax({\n      url: site.ajax_url + action,\n      type: \"POST\",\n      data: dataObj,\n      dataType: 'json',\n      success: function(response) {\n        products = response.products;\n        productsCache.setItem(key, JSON.stringify(products));\n        def.resolve(products);\n      },\n      error: function(response) {\n        console.log(response);\n      }\n    });\n  }\n\n  return def;\n}\n\nfunction render(products) {\n  var grid = $('body').find('.product-list-grid'),\n      spinner = $('body').find('.spinner'),\n      pages = $('body').find('.page.products'),\n      length = products.length;\n\n  if ( !$(spinner).hasClass('hidden') ) {\n    $(spinner).addClass('hidden');\n  }\n\n  if ( pages ) {\n    $(pages).each(function(i,e) {\n      $(e).remove();\n    });\n  }\n\n  var pageIndex = 1;\n  var html = '<div class=\"page products page-1 hidden\">';\n      html += '<ul class=\"products\">';\n\n  $(products).each(function(i, e) {\n    var k = i + 1;\n\n    $(e.tags).each(function(i, e) {\n      tags.brands.push(e);\n    });\n\n    $(e.categories).each(function(i, e) {\n      tags.categories.push(e);\n    });\n\n    var template = setTemplate(e);\n    html += template;\n\n    if ( k % 24 === 0 && i < length ) {\n      pageIndex++;\n      html += '</ul>';\n      html += '</div>';\n      html += '<div class=\"page products page-' + pageIndex + ' hidden\">';\n      html += '<ul class=\"products\">';\n    }\n  });\n\n  html += '</ul>';\n  html += '</div>';\n\n  $(grid).append(html);\n  sortTags(tags);\n  scrollController();\n  setMenuHeight();\n  var page = $('body').find('.page.page-1');\n  $(page).removeClass('hidden');\n  setTimeout(function() {\n    new gridCartController();\n  }, 1500);\n}\n\nfunction sortTags(tags) {\n  var menuLeft = $('body').find('.menu-left'),\n      categoryContainer = $(menuLeft).find('.categories'),\n      brandContainer = $(menuLeft).find('.brands'),\n      categories = _.uniq(tags.categories),\n      brands = _.uniq(tags.brands),\n      pCat = $(categoryContainer).find('p'),\n      pBrand = $(brandContainer).find('p'),\n      catHtml,\n      brandHtml;\n\n  if ( pCat.length !== 0 || pBrand.length !== 0 ) {\n    return\n  } else {\n    $(categories).each(function(i, cat) {\n      catHtml = '<p data-cat=\"' + cat + '\"><i class=\"fa fa-search-plus\"></i>' + cat + '</p>';\n      $(categoryContainer).append(catHtml);\n    });\n\n    $(brands).each(function(i, brand) {\n      brandHtml = '<p data-brand=\"' + brand + '\"><i class=\"fa fa-search-plus\"></i>' + brand + '</p>';\n      $(brandContainer).append(brandHtml);\n    });\n\n    setTimeout(function() {\n      sortController();\n    }, 1500);\n  }\n}\n\nfunction sortController() {\n  var menuLeft = $('body').find('.menu-left'),\n      categoryContainer = $(menuLeft).find('.categories'),\n      brandContainer = $(menuLeft).find('.brands'),\n      pCat = $(categoryContainer).find('p'),\n      pBrand = $(brandContainer).find('p'),\n      products = $('body').find('li.product'),\n      pages = $('body').find('.page.products');\n\n  $(pCat).each(function(i,e) {\n    var param = $(e).data('cat');\n\n    $(e).on('click', function() {\n      $(pages).each(function(i,e) {\n        var delay = 50 * i;\n        $(e).velocity({'opacity': 0}, {duration: 500, delay: delay, display: 'none', easing: [.24,.63,.5,.99]});\n        setTimeout(function() {\n          $(e).detach();\n        }, 600+delay);\n      });\n      var promise = returnSortedCat(param);\n      promise.then(function(products) {\n        render(products);\n      });\n    });\n  });\n\n  $(pBrand).each(function(i,e) {\n    var param = $(e).data('brand');\n\n    $(e).on('click', function() {\n      $(pages).each(function(i,e) {\n        var delay = 50 * i;\n        $(e).velocity({'opacity': 0}, {duration: 500, delay: delay, display: 'none', easing: [.24,.63,.5,.99]});\n        setTimeout(function() {\n          $(e).detach();\n        }, 600+delay);\n      });\n      var promise = returnSortedBrand(param);\n      promise.then(function(products) {\n        render(products);\n      });\n    });\n  });\n}\n\nfunction returnSortedCat(param) {\n  var newProductsPromise = productsSupplyer(),\n      sorted = [],\n      defer = $.Deferred();\n\n  newProductsPromise.then(function(newProducts) {\n    $(newProducts).each(function(i,e) {\n      var cats = e.categories;\n\n      if ( cats.indexOf(param) !== -1 ) {\n        sorted.push(e);\n      }\n    });\n\n    defer.resolve(sorted);\n  });\n\n  return defer;\n}\n\nfunction returnSortedBrand(param) {\n  var newProductsPromise = productsSupplyer(),\n      sorted = [],\n      defer = $.Deferred();\n\n  newProductsPromise.then(function(newProducts) {\n    $(newProducts).each(function(i,e) {\n      var brands = e.tags;\n      if ( brands.indexOf(param) !== -1 ) {\n        sorted.push(e);\n      }\n    });\n\n    defer.resolve(sorted);\n  });\n\n  return defer;\n}\n\nfunction returnSortedPriceLow() {\n  var newProductsPromise = productsSupplyer(),\n      defer = $.Deferred();\n\n  newProductsPromise.then(function(newProducts) {\n    var initArray = [],\n        sorted = [];\n\n    $(newProducts).each(function(i,e) {\n      var object = {\n        price: parseInt(e['regular_price']),\n        element: e\n      }\n      initArray.push(object);\n    });\n\n    function sortPrice(a,b) {\n      return a.price - b.price;\n    }\n\n    var initialSort = initArray.sort(sortPrice);\n\n    $(initialSort).each(function(j,f) {\n      sorted.push(f.element);\n    });\n\n    defer.resolve(sorted);\n  });\n\n  return defer;\n}\n\nfunction returnSortedPriceHigh() {\n  var newProductsPromise = productsSupplyer(),\n      defer = $.Deferred();\n\n  newProductsPromise.then(function(newProducts) {\n    var initArray = [],\n        sorted = [];\n\n    $(newProducts).each(function(i,e) {\n      var object = {\n        price: parseInt(e['regular_price']),\n        element: e\n      }\n      initArray.push(object);\n    });\n\n    function sortPrice(a,b) {\n      return a.price - b.price;\n    }\n\n    var initialSort = initArray.sort(sortPrice).reverse();\n\n    $(initialSort).each(function(j,f) {\n      sorted.push(f.element);\n    });\n\n    defer.resolve(sorted);\n  });\n\n  return defer;\n}\n\nfunction sortPriceController() {\n  var direction = 'asc';\n\n  function setDirection(dir) {\n    direction = dir;\n  }\n\n  function getDirection() {\n    return direction;\n  }\n\n  var priceSorter = $('.menu-left').find('.sort-links > .price-sorter');\n\n  if ( !priceSorter ) {\n    return;\n  }\n\n  $(priceSorter).on('click', function() {\n    var currentDir = getDirection();\n\n    if ( currentDir === 'asc' ) {\n      var sortedPrice = returnSortedPriceLow();\n      setDirection('desc');\n      sortedPrice.then(function(products) {\n        render(products);\n      });\n    }\n\n    if ( currentDir === 'desc' ) {\n      var sortedPrice = returnSortedPriceHigh();\n      setDirection('asc');\n      sortedPrice.then(function(products) {\n        render(products);\n      });\n    }\n  });\n}\n\nfunction scrollController() {\n  var pages = $('body').find('.page.products.hidden'),\n      content = $('body').find('.site-content'),\n      height = $(content).height(),\n      windowHeight = $(window).height();\n\n  if ( !pages ) {\n    return;\n  }\n\n  $(window).on('scroll', function() {\n    var scroll = $(document).scrollTop(),\n        height = $(content).height();\n\n    if ( scroll >= ((height - windowHeight) - 200) ) {\n      window.requestAnimationFrame(function() {\n        updateView();\n      });\n    }\n  });\n\n  function updateView() {\n    var trig = 0;\n    if (!pages[0] || trig > 0 ) {\n      return;\n    } else {\n      $(pages[0]).removeClass('hidden');\n      trig++;\n      setTimeout(function() {\n        scrollController();\n      }, 1000);\n    }\n  }\n}\n\nfunction setTemplate(e) {\n  var stockIcon;\n\n  if ( e.in_stock === 'false' ) {\n    stockIcon = '<div class=\"in-stock-icon\"><span>PÅ LAGER: <i class=\"fa fa-minus-square\"></span></div>';\n  } else {\n    stockIcon = '<div class=\"in-stock-icon\"><span>PÅ LAGER: <i class=\"fa fa-check-square\"></i></span></div>';\n  }\n\n  var desc = e.description;\n  var trunc = desc.split(\" \").splice(0, 23).join(\" \");\n\n  var template = '<li class=\"product\" itemscope itemtype=\"http://schema.org/Product\">' + stockIcon;\n      template += '<img src=\"' + e.featured_src + '\" alt=\"' + e.title + ' product image produktbillede Sinus-store Copenhagen København Denmark\" />';\n      template += '<div class=\"product-price\">' + e.price_html + '<div class=\"add-button\" data-href=\"' + e.id + '\" data-title=\"' + e.title + '\"><svg version=\"1.1\" baseProfile=\"tiny\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"x=\"0px\" y=\"0px\" viewBox=\"0 0 60 60\" xml:space=\"preserve\"><line class=\"svg-line\" fill=\"none\" stroke=\"#007c96\" stroke-width=\"10\" stroke-miterlimit=\"10\" x1=\"30\" y1=\"6\" x2=\"30\" y2=\"54\"/><line class=\"svg-line\" fill=\"none\" stroke=\"#007c96\" stroke-width=\"10\" stroke-miterlimit=\"10\" x1=\"6\" y1=\"30\" x2=\"54\" y2=\"30\"/></svg><span class=\"add-info\">Tilføj til kurv</span></div></div>';\n      template += '<div class=\"sinus-product-info\"><div class=\"product-title\" itemprop=\"name\"><h3>' + e.title + '</h3></div><div class=\"short-desc\" itemprop=\"description\">' + trunc + '</div></div>';\n      template += '</li>';\n\n  return template;\n}\n\nvar fpBackgroundController = function() {\n  var bgContainer = $('body').find('.bg-container'),\n      firstImg = $(bgContainer).find('img'),\n      index;\n\n  if ( !bgContainer ) {\n    return;\n  }\n\n  if ( firstImg && firstImg[0] ) {\n    if (firstImg[0].complete) {\n      imagesHandler();\n    } else {\n      firstImg.load(imagesHandler);\n    }\n  }\n\n  function imagesHandler() {\n    setIndex(1);\n    $(firstImg).velocity({\n      'opacity': 1\n    }, {duration: 500, delay: 0, display: 'block', easing: [.24,.63,.5,.99]});\n\n    for( var i = 2; i < 7; i++ ) {\n      var img = $('<img />').attr('src', site.theme_path + '/img/bg/bg' + i + '.png').attr('class', 'bg-' + i);\n      $(bgContainer).append(img);\n    }\n\n    setTimeout(controller, 8000);\n  }\n\n  function controller() {\n    var j = getIndex(),\n        k = j+1;\n\n    if ( k > 6 ) {\n      k = 1;\n    }\n\n    var curImg = $(bgContainer).find('img.bg-' + j),\n        newImg = $(bgContainer).find('img.bg-' + k);\n\n    window.requestAnimationFrame(animateIn(newImg));\n    window.requestAnimationFrame(animateOut(curImg));\n\n    setIndex(k);\n\n    setTimeout(controller, 4000);\n  }\n\n  function animateIn(image) {\n    $(image).velocity({\n      'opacity': 1\n    }, {duration: 1000, delay: 0, display: 'block', easing: [.24,.63,.5,.99]});\n  }\n\n  function animateOut(image) {\n    $(image).velocity({\n      'opacity': 0\n    }, {duration: 1000, delay: 0, display: 'block', easing: [.24,.63,.5,.99]});\n  }\n\n  function getIndex() {\n    n = index;\n    return n;\n  }\n\n  function setIndex(newIndex) {\n    index = newIndex;\n  }\n}\n\nvar fpVideoController = function() {\n  var vid = document.getElementById('frontpage-video');\n\n  if (!vid) {\n    return;\n  } else {\n    var spinner = $('body').find('.spinner'),\n        container = $('body').find('.front-video-container'),\n        vidElement = $(container).find('#frontpage-video'),\n        movingContent = $('body').find('.moving-content'),\n        width = $(window).width(),\n        vidHeight = ((width/100*80)/16)*9;\n\n    addEventListeners();\n  }\n\n  function addEventListeners() {\n    vid.addEventListener('canplaythrough', animShowVideo);\n    vid.addEventListener('ended', animOutVideo);\n  }\n\n  function animShowVideo() {\n    $(spinner).addClass('hidden');\n\n    $(container).velocity({\n      'height': vidHeight\n    }, {duration: 700, delay: 0, easing: [.24,.63,.5,.99]});\n\n    $(vidElement).velocity({\n      'opacity': 1\n    }, {duration: 700, delay: 0, display: 'block', easing: [.24,.63,.5,.99]});\n\n    $(movingContent).velocity({\n      'top': vidHeight + 30\n    }, {duration: 700, delay: 0, display: 'block', easing: [.24,.63,.5,.99]});\n\n    setTimeout(function() {\n      if ( vid.paused ) {\n        vid.play();\n      }\n    }, 700);\n  }\n\n  function animOutVideo() {\n    $(vidElement).velocity({\n      'opacity': 0\n    }, {duration: 300, delay: 0, display: 'block', easing: [.24,.63,.5,.99]});\n\n    $(container).velocity({\n      'height': 60\n    }, {duration: 1000, delay: 400, easing: [.24,.63,.5,.99]});\n\n    $(movingContent).velocity({\n      'top': 90\n    }, {duration: 1000, delay: 400, display: 'block', easing: [.24,.63,.5,.99]});\n\n    scrollTo(0);\n  }\n}\n\n\nvar scrollHeaderController = function() {\n  var linkHeader = $('body').find('.header-link-row'),\n      width = $(window).width(),\n      scroll;\n\n  $(window).on('scroll', modifyHeader);\n\n  function modifyHeader() {\n    scroll = $(window).scrollTop();\n\n    if ( scroll > 500 ) {\n      $(linkHeader).addClass('hidden');\n    }\n    if ( scroll < 500 ) {\n      $(linkHeader).removeClass('hidden');\n    }\n  }\n}\n\nfunction validateEmail(email) {\n  var regex = /^(([^<>()[\\]\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i;\n  return regex.test(email);\n}\n\nfunction validateInput(input) {\n  var allowedChars = /^[\\u00C0-\\u1FFF\\u2C00-\\uD7FF\\w&.,\\- ]+$/;\n  return allowedChars.test(input);\n}\n\nfunction validateNumber(input) {\n  var isNumber = /^(?=.*[0-9])[+()0-9]+$/;\n  return isNumber.test(input);\n}\n\nvar reserveFormController = function() {\n  var form = $('body').find('form.reserve'),\n      emailInput = $(form).find('input[type=email]'),\n      nameInput = $(form).find('input[type=text].name'),\n      phoneInput = $(form).find('input[type=text].phone'),\n      submitBtn = $(form).find('.submit-btn > a');\n\n  function validateEmailOnBlur() {\n    $(emailInput).on('blur', function() {\n      var value = $(this).val();\n\n      if ( value.length === 0 ) {\n        if ( $(this).hasClass('error') ) {\n          $(this).removeClass('error');\n        }\n        return;\n      }\n\n      if ( value.length !== 0 ) {\n        var isEmail = validateEmail(value);\n\n        if( !isEmail && !$(this).hasClass('error') ) {\n          $(this).addClass('error');\n        }\n\n        if( isEmail && $(this).hasClass('error') ) {\n          $(this).removeClass('error');\n        }\n      }\n    });\n  }\n\n  function validateNameOnBlur() {\n    $(nameInput).on('blur', function() {\n      var value = $(this).val();\n\n      if ( value.length === 0 ) {\n        if ( $(this).hasClass('error') ) {\n          $(this).removeClass('error');\n        }\n        return;\n      }\n\n      if ( value.length !== 0 ) {\n        var isTrustedCharacters = validateInput(value);\n\n        if( !isTrustedCharacters && !$(this).hasClass('error') ) {\n          $(this).addClass('error');\n        }\n\n        if( isTrustedCharacters && $(this).hasClass('error') ) {\n          $(this).removeClass('error');\n        }\n      }\n    });\n  }\n\n  function validateNumberOnBlur() {\n    $(phoneInput).on('blur', function() {\n      var value = $(this).val();\n\n      if ( value.length === 0 ) {\n        if ( $(this).hasClass('error') ) {\n          $(this).removeClass('error');\n        }\n        return;\n      }\n\n      if ( value.length !== 0 ) {\n        var isNumber = validateNumber(value);\n\n        if ( !isNumber && !$(this).hasClass('error') ) {\n          $(this).addClass('error');\n        }\n\n        if ( isNumber && $(this).hasClass('error') ) {\n          $(this).removeClass('error');\n        }\n      }\n    });\n  }\n\n  function submitListener() {\n    $(submitBtn).on('click', function(event) {\n      event.preventDefault(),\n      inputs = $(form).find('input'),\n      validSuccess = $('body').find('.validation.success');\n      dataObject = {},\n      inputArray = [];\n\n      $(inputs).each(function(i, e) {\n        if ( $(e).hasClass('error') || $(e).val().length === 0 ) {\n          return;\n        } else {\n          var object = {\n            name: e.name,\n            value: $(e).val()\n          }\n          inputArray.push(object);\n        }\n      });\n\n      var data = packData();\n      sendForm(data);\n    });\n\n    function packData() {\n      dataObject.customer_html = '<h4>Navn:</h4><h2>' + inputArray[0].value + '</h2>';\n      dataObject.customer_html += '<h4>TLF:</h4><h2>' + inputArray[1].value + '</h2>';\n      dataObject.customer_html += '<h4>EMAIL:</h4><h2>' + inputArray[2].value + '</h2>';\n      dataObject.customer_email = inputArray[2].value;\n\n      return dataObject;\n    }\n\n    function sendForm(data) {\n      var customerData = JSON.stringify(data);\n\n        $.ajax({\n          url: site.ajax_url + '?action=reserve',\n          type: 'POST',\n          data: customerData,\n          success: function(response) {\n            var stripResponse = $.trim(response);\n            console.log(stripResponse);\n            if ( stripResponse === 'Success' ) {\n              animateSuccess();\n            }\n            if ( stripResponse === 'Error' ) {\n\n            }\n          },\n          error: function(response) {\n            console.log(response);\n          }\n        });\n    }\n\n    function animateSuccess() {\n      $(form).velocity({\n        'opacity': [0, 1]\n      }, {duration: 300, delay: 0, easing: [.24,.63,.5,.99], display: 'none'});\n\n      $(validSuccess).velocity({\n        'opacity': [1, 0]\n      }, {duration: 300, delay: 350, easing: [.24,.63,.5,.99], display: 'block'});\n\n      setTimeout(function() {\n        window.location.href = window.location.href;\n      }, 1000);\n    }\n  }\n\n  validateNumberOnBlur();\n  validateEmailOnBlur();\n  validateNameOnBlur();\n  submitListener();\n}\n\n\nfunction shopMsg(title, msg) {\n  var atcModal = $('body').find('.atc-modal');\n\n  if ( !msg ) {\n    var msg = '<span>- blev tilføjet til kurven.</span>';\n  } else {\n    var msg = msg;\n  }\n\n  var html = '<h3>' + title + '</h3>' + msg;\n\n  $(atcModal).append(html);\n\n  function animate() {\n    $(atcModal).velocity({\n      'opacity': [1, 0],\n      'top': [150, 300],\n      'z-index': [5000, 5000]\n    }, {duration: 400, delay: 0, easing: 'easeInOutSine'});\n\n    $(atcModal).velocity({\n      'opacity': [0, 1],\n      'top': [300, 150],\n      'z-index': 5000\n    }, {duration: 400, delay: 1400, easing: 'easeInOutSine'});\n  }\n\n  setTimeout(function() {\n    animate();\n  }, 100);\n\n  setTimeout(function() {\n    $(atcModal).html('');\n    $(atcModal).css({\n      'z-index': -1000\n    });\n  }, 2000);\n}\n\n\nvar productTextController = function() {\n  var textIcon = $('body').find('.text-icon'),\n      productLeft = $('body').find('.product-left'),\n      productRight = $('body').find('.product-right');\n\n  $(textIcon).on('click', function() {\n    toggleClass();\n  });\n\n  function toggleClass() {\n    $(textIcon).toggleClass('off');\n    $(productLeft).toggleClass('off');\n    $(productRight).toggleClass('off');\n  }\n\n  setTimeout(toggleClass, 800);\n}\n\nvar singleProductHeightController = function() {\n  var mainImage = $('.main-image img'),\n      iFrame = $('body').find('iframe');\n\n  if ( mainImage && mainImage[0] ) {\n    if (mainImage[0].complete) {\n      handler();\n    } else {\n      mainImage.load(handler);\n    }\n  } else {\n    return;\n  }\n\n  function handler() {\n    var contentHeight = $('.product-content').height(),\n        imageHeight = $('.main-image img').height();\n\n    if ( contentHeight && imageHeight < contentHeight ) {\n      $('.main-image').css({\n        'height': contentHeight + 'px'\n      });\n    } else {\n      return;\n    }\n    setMenuHeight();\n  }\n}\n\nvar embedVidController = function() {\n  var vidFrame = $('body').find('.youtube-frame');\n\n  if ( vidFrame.length > 0 ) {\n    initVideo();\n  } else {\n    return;\n  }\n\n  function initVideo() {\n    var vidUrl = $(vidFrame).attr('data-href');\n        if ( vidUrl.indexOf('=') !== -1 ) {\n          var vidId = vidUrl.split('='),\n              id = vidId[1];\n        } else {\n          var vidId = vidUrl.split('/');\n          id = vidId[3];\n        }\n\n    var width = $(window).width(),\n        height = (width / 16) * 9;\n\n    var constructedHtml = '<iframe width=\"' + width + '\" height=\"' + height + '\" src=\"https://www.youtube.com/embed/' + id + '?rel=0&amp;showinfo=0\" frameborder=\"0\" allowfullscreen></iframe>';\n\n    $(vidFrame).html(constructedHtml);\n  }\n};\n\n\nvar gridCartController = function() {\n  var addBtn = $('body').find('.add-button'),\n      cart = $('body').find('.cart-contents');\n\n\n  $(addBtn).each(function(i, e) {\n    var id = $(this).attr('data-href'),\n        prodTitle = $(this).attr('data-title');\n\n    $(this).on('click', function(event) {\n      event.preventDefault();\n      var cartNumber = $('body').find('.cart-icon h5'),\n          cartInt = parseInt($('body').find('.cart-icon h5').text()),\n          url = site.ajax_url + '?action=sinus_add',\n          dataObject = {\n            'product_id': id\n          }\n\n      data = JSON.stringify(dataObject);\n\n      $.ajax({\n        url: url,\n        type: 'POST',\n        data: data,\n        dataType: 'html',\n        success: function(response) {\n          var updatedNum = cartInt + 1;\n          cartNumber.html(updatedNum);\n          $(cart).html(response);\n          shopMsg(prodTitle);\n\n          setTimeout(function() {\n            window.location.href = window.location.href;\n          }, 1000);\n        },\n        error: function(response) {\n          console.log('error -', response);\n        }\n      });\n    });\n  });\n};\n\nvar removeFromCartController = function() {\n    var cart = $('body').find('.cart-contents'),\n        remBtn = $(cart).find('.remove-icon');\n\n  $(remBtn).each(function(i, e) {\n    var id = $(this).attr('data-id'),\n        qtyElem = $(this).siblings('.elem-qty-total'),\n        qty = parseInt($(qtyElem).attr('data-qty'));\n\n\n    $(this).on('click', function() {\n      console.log(qty, id);\n      var cartNumber = $('body').find('.cart-icon h5'),\n          cartInt = parseInt($('body').find('.cart-icon h5').text()),\n          url = site.ajax_url + '?action=sinus_remove',\n          dataObject = {\n            'product_id': id,\n            'quantity': qty\n          }\n\n      data = JSON.stringify(dataObject);\n\n      $.ajax({\n        url: url,\n        type: 'POST',\n        data: data,\n        dataType: 'html',\n        success: function(response) {\n          var updatedNum = cartInt - qty;\n          cartNumber.html(updatedNum);\n          $(cart).html(response);\n          window.location.href = window.location.href;\n        },\n        error: function(response) {\n          console.log('error -', response);\n        }\n      });\n    });\n  });\n};\n\nfunction setMenuHeight() {\n  setTimeout(function() {\n    var mainMenu = $('body').find('.main-menu'),\n        siteContent = $('body').find('.site-content'),\n        documentHeight = $('.site-content').height();\n\n     // set menu height, relative to content height (minus footer)\n    $(mainMenu).css({\n      'height': documentHeight - 325 + 'px'\n    });\n  }, 1000);\n}\n\nvar MenuController = function() {\n  var menuBtn = $('body').find('.menu-icon'),\n      mainMenu = $('body').find('.main-menu'),\n      menuLinks = $(mainMenu).find('li'),\n      menuHeaders = $(mainMenu).find('h3'),\n      searchForm = $('body').find('.search-form'),\n      cartIcon = $('body').find('.cart-icon'),\n      cartContents = $('body').find('.cart-modal.cart-contents'),\n      width = $(window).width();\n      setMenuHeight();\n\n      $(menuBtn).on('click', animateMenu);\n\n      function animateMenu() {\n        if ( $(mainMenu).hasClass('hidden') ) {\n          $(mainMenu).removeClass('hidden');\n          $(this).addClass('open');\n          scrollTo('0px');\n          updateHeaderOpen();\n          addEventListener();\n        } else {\n          $(mainMenu).addClass('hidden');\n          $(this).removeClass('open');\n          updateHeaderClose();\n        }\n      }\n\n\n      function updateHeaderOpen() {\n        var rawIconCss = $(cartIcon).css('right'),\n            rawSearchCss = $(searchForm).css('right'),\n            rawCartContCss = $(cartContents).css('right'),\n            iconRight = parseInt(rawIconCss.replace('px', '')),\n            searchRight = parseInt(rawSearchCss.replace('px', '')),\n            cartContRight = parseInt(rawCartContCss.replace('px', ''));\n\n\n            $(cartIcon).velocity({\n              'right': iconRight + 230 + 'px'\n            }, {duration: 400, delay: 100, easing: [.24,.63,.5,.99]});\n\n            $(searchForm).velocity({\n              'right': searchRight + 230 + 'px'\n            }, {duration: 400, delay: 0, easing: [.24,.63,.5,.99]});\n\n            $(cartContents).velocity({\n              'right': cartContRight + 230 + 'px'\n            }, {duration: 400, delay: 150, easing: [.24,.63,.5,.99]});\n      }\n\n      function updateHeaderClose() {\n            $(cartIcon).velocity({\n              'right': 90\n            }, {duration: 300, delay: 200, easing: [.24,.63,.5,.99]});\n\n            $(searchForm).velocity({\n              'right': 165\n            }, {duration: 300, delay: 300, easing: [.24,.63,.5,.99]});\n\n            $(cartContents).velocity({\n              'right': 80\n            }, {duration: 300, delay: 250, easing: [.24,.63,.5,.99]});\n      }\n\n      function addEventListener() {\n        $(menuLinks).on('click', function(e) {\n          e.preventDefault();\n          var aHref =  $(this).find('a');\n          var href = $(aHref).attr('href');\n\n          $(menuLinks).each(function(i, elem) {\n            var delay = i * 20;\n\n            $(elem).velocity({\n              'opacity': [0, 1]\n            }, {duration: 100, delay: delay, easing: 'easeInOutSine'});\n\n          });\n\n          $(menuHeaders).each(function(i, elem) {\n            var delay = i * 30;\n\n            $(elem).velocity({\n              'opacity': [0, 1]\n            }, {duration: 100, delay: delay, easing: 'easeInOutSine'});\n          });\n\n          setTimeout(navigate(href), 1200);\n        });\n      }\n\n      function navigate(href) {\n        setTimeout(function() {\n          $(menuBtn).removeClass('open');\n          $(mainMenu).addClass('hidden');\n          updateHeaderClose();\n        }, 1000);\n\n        setTimeout(function() {\n          window.location.href = href;\n        }, 1300);\n      }\n};\n\nvar CartController = function() {\n  var cartIcon = $('body').find('.cart-icon'),\n      cartContents = $('body').find('.cart-modal.cart-contents');\n\n  $(cartIcon).on('click', function(e) {\n    $(cartContents).toggleClass('hidden');\n  });\n}\n\n\n// http://sin.us/wp-json/posts?type=product&filter[product_cat]=hifi&filter[orderby]=price&filter[order]=asc\n\n"],"sourceRoot":"/source/"}