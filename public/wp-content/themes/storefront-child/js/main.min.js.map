{"version":3,"sources":["main.js"],"names":["addedToCart","title","animate","$","atcModal","velocity","opacity","top","z-index","duration","delay","easing","find","html","append","setTimeout","css","jQuery","document","on","CartController","MenuController","gridCartController","embedVidController","productTextController","singleProductHeightController","focus","this","id","addClass","blur","removeClass","textIcon","productLeft","productRight","toggleClass","handler","contentHeight","height","imageHeight","mainImage","complete","load","initVideo","vidUrl","vidFrame","attr","vidId","split","width","window","constructedHtml","length","addBtn","cart","each","i","e","prodTitle","event","preventDefault","cartNumber","cartInt","parseInt","text","url","site","ajax_url","dataObject","product_id","data","JSON","stringify","ajax","type","dataType","success","response","updatedNum","error","console","log","animateMenu","mainMenu","hasClass","updateHeaderOpen","addEventListener","updateHeaderClose","rawIconCss","cartIcon","rawSearchCss","searchForm","rawCartContCss","cartContents","iconRight","replace","searchRight","cartContRight","right","menuLinks","aHref","href","elem","menuHeaders","navigate","menuBtn","location","footer","footerPosition","position"],"mappings":"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","file":"main.min.js","sourcesContent":["// Test if ie10 - adds class \"ie10\" to HTML tag, if true. - Excludes IE11\nif (/*@cc_on!@*/false && document.documentMode === 10) {\n    document.documentElement.className+=' ie10';\n}\n\njQuery(document).on('ready', function() {\n  $ = jQuery;\n\n  new CartController();\n  new MenuController();\n  new gridCartController();\n  new embedVidController();\n  new productTextController();\n  new singleProductHeightController();\n\n  // labels for input fields\n  $(\"form :input\").focus(function() {\n    $(\"label[for='\" + this.id + \"']\").addClass(\"focus\");\n  }).blur(function() {\n    $(\"label\").removeClass(\"focus\");\n  });\n}); // End Ready\n\nfunction addedToCart(title) {\n  var atcModal = $('body').find('.atc-modal');\n  var html = title + '<span>- blev tilf√∏jet til kurven.</span>';\n\n  $(atcModal).append(html);\n\n  function animate() {\n    $(atcModal).velocity({\n      'opacity': [1, 0],\n      'top': [100, 300],\n      'z-index': [5000, 5000]\n    }, {duration: 400, delay: 0, easing: 'easeInOutSine'});\n\n    $(atcModal).velocity({\n      'opacity': [0, 1],\n      'top': [300, 100],\n      'z-index': 5000\n    }, {duration: 400, delay: 1400, easing: 'easeInOutSine'});\n  }\n\n  setTimeout(function() {\n    animate();\n  }, 100);\n\n  setTimeout(function() {\n    $(atcModal).html('');\n    $(atcModal).css({\n      'z-index': -1000\n    });\n  }, 2000);\n}\n\n\nvar productTextController = function() {\n  var textIcon = $('body').find('.text-icon'),\n      productLeft = $('body').find('.product-left'),\n      productRight = $('body').find('.product-right');\n\n  $(textIcon).on('click', function() {\n    $(textIcon).toggleClass('off');\n    $(productLeft).toggleClass('off');\n    $(productRight).toggleClass('off');\n  });\n}\n\nvar singleProductHeightController = function() {\n  var mainImage = $('.main-image img');\n\n  if (mainImage[0].complete) {\n    handler();\n  } else {\n    // Not loaded yet, register the handler\n    mainImage.load(handler);\n  }\n\n  function handler() {\n    var contentHeight = $('.product-content').height(),\n        imageHeight = $('.main-image img').height();\n\n    if ( contentHeight && imageHeight < contentHeight ) {\n      $('.main-image').css({\n        'height': contentHeight + 'px'\n      });\n    } else {\n      return;\n    }\n  }\n}\n\nvar embedVidController = function() {\n  var vidFrame = $('body').find('.youtube-frame');\n\n  if ( vidFrame.length > 0 ) {\n    initVideo();\n  } else {\n    return;\n  }\n\n  function initVideo() {\n    var vidUrl = $(vidFrame).attr('data-href'),\n        vidId = vidUrl.split('/');\n\n    var width = $(window).width(),\n        height = (width / 16) * 9;\n\n    var constructedHtml = '<iframe width=\"' + width + '\" height=\"' + height + '\" src=\"https://www.youtube.com/embed/' + vidId[3] + '?rel=0&amp;showinfo=0\" frameborder=\"0\" allowfullscreen></iframe>';\n\n    $(vidFrame).html(constructedHtml);\n  }\n};\n\n\nvar gridCartController = function() {\n  var addBtn = $('body').find('.add-button'),\n      cart = $('body').find('.cart-contents');\n\n\n  $(addBtn).each(function(i, e) {\n    var id = $(this).attr('data-href'),\n        prodTitle = $(this).attr('data-title');\n\n    $(this).on('click', function(event) {\n      event.preventDefault();\n      var cartNumber = $('body').find('.cart-icon h5'),\n          cartInt = parseInt($('body').find('.cart-icon h5').text()),\n          url = site.ajax_url + '?action=sinus_add',\n          dataObject = {\n            'product_id': id\n          }\n\n      data = JSON.stringify(dataObject);\n\n      $.ajax({\n        url: url,\n        type: 'POST',\n        data: data,\n        dataType: 'html',\n        success: function(response) {\n          var updatedNum = cartInt + 1;\n          cartNumber.html(updatedNum);\n          $(cart).html(response);\n          addedToCart(prodTitle);\n        },\n        error: function(response) {\n          console.log('error -', response);\n        }\n      });\n    });\n  });\n};\n\n\nvar MenuController = function() {\n  var menuBtn = $('body').find('.menu-icon'),\n      mainMenu = $('body').find('.main-menu'),\n      menuLinks = $(mainMenu).find('li'),\n      menuHeaders = $(mainMenu).find('h3'),\n      footer = $('body').find('footer'),\n      footerPosition = $(footer).position(),\n      searchForm = $('body').find('.search-form'),\n      cartIcon = $('body').find('.cart-icon'),\n      cartContents = $('body').find('.cart-contents'),\n      width = $(window).width();\n\n      // set menu height, relative to content height\n      $(mainMenu).css({\n        'height': footerPosition.top + 150 + 'px'\n      });\n\n      $(menuBtn).on('click', animateMenu);\n\n      function animateMenu() {\n        if ( $(mainMenu).hasClass('hidden') ) {\n          $(mainMenu).removeClass('hidden');\n          $(this).addClass('open');\n          updateHeaderOpen();\n          addEventListener();\n        } else {\n          $(mainMenu).addClass('hidden');\n          $(this).removeClass('open');\n          updateHeaderClose();\n        }\n      }\n\n      function updateHeaderOpen() {\n        var rawIconCss = $(cartIcon).css('right'),\n            rawSearchCss = $(searchForm).css('right'),\n            rawCartContCss = $(cartContents).css('right'),\n            iconRight = parseInt(rawIconCss.replace('px', '')),\n            searchRight = parseInt(rawSearchCss.replace('px', '')),\n            cartContRight = parseInt(rawCartContCss.replace('px', ''));\n\n\n            $(cartIcon).velocity({\n              'right': iconRight + 230 + 'px'\n            }, {duration: 400, delay: 100, easing: 'easeOutSine'});\n\n            $(searchForm).velocity({\n              'right': searchRight + 230 + 'px'\n            }, {duration: 400, delay: 0, easing: 'easeOutSine'});\n\n            $(cartContents).velocity({\n              'right': cartContRight + 230 + 'px'\n            }, {duration: 400, delay: 150, easing: 'easeOutSine'});\n      }\n\n      function updateHeaderClose() {\n            $(cartIcon).velocity({\n              'right': 90\n            }, {duration: 300, delay: 200, easing: 'easeOutSine'});\n\n            $(searchForm).velocity({\n              'right': 165\n            }, {duration: 300, delay: 300, easing: 'easeOutSine'});\n\n            $(cartContents).velocity({\n              'right': 90\n            }, {duration: 300, delay: 250, easing: 'easeOutSine'});\n      }\n\n      function addEventListener() {\n        $(menuLinks).on('click', function(e) {\n          e.preventDefault();\n          var aHref =  $(this).find('a');\n          var href = $(aHref).attr('href');\n\n          $(menuLinks).each(function(i, elem) {\n            var delay = i * 20;\n\n            $(elem).velocity({\n              'opacity': [0, 1]\n            }, {duration: 100, delay: delay, easing: 'easeInOutSine'});\n\n          });\n\n          $(menuHeaders).each(function(i, elem) {\n            var delay = i * 30;\n\n            $(elem).velocity({\n              'opacity': [0, 1]\n            }, {duration: 100, delay: delay, easing: 'easeInOutSine'});\n          });\n\n          setTimeout(navigate(href), 1200);\n        });\n      }\n\n      function navigate(href) {\n        setTimeout(function() {\n          $(menuBtn).removeClass('open');\n          $(mainMenu).addClass('hidden');\n          updateHeaderClose();\n        }, 1000);\n\n        setTimeout(function() {\n          window.location.href = href;\n        }, 1300);\n      }\n};\n\n\nvar CartController = function() {\n  var cartIcon = $('body').find('.cart-icon'),\n      cartContents = $('body').find('.cart-contents');\n\n  $(cartIcon).on('click', function(e) {\n    $(cartContents).toggleClass('hidden');\n  });\n}\n\n// var SineAnimation = function() {\n//   var container = $('body').find('.sine-animation'),\n//       imgContainer = $(container).find('.img-container');\n\n//       var options = {\n//         'duration': 5000,\n//         'delay': 8000,\n//         'easing': 'easeInOutSine',\n//         'loop': true\n//       }\n\n//       $(imgContainer).velocity({\n//         'left': [-310, 0]\n//       }, options);\n// };\n"],"sourceRoot":"/source/"}