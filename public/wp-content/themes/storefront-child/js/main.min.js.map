{"version":3,"sources":["main.js"],"names":["validateEmail","email","regex","test","validateInput","input","allowedChars","validateNumber","isNumber","shopMsg","title","msg","animate","$","atcModal","velocity","opacity","top","z-index","duration","delay","easing","find","html","append","setTimeout","css","window","location","href","jQuery","document","on","CartController","MenuController","gridCartController","embedVidController","productTextController","singleProductHeightController","removeFromCartController","reserveFormController","scrollHeaderController","focus","this","id","addClass","blur","removeClass","modifyHeader","scroll","scrollTop","console","log","linkHeader","width","validateEmailOnBlur","emailInput","value","val","length","hasClass","isEmail","validateNameOnBlur","nameInput","isTrustedCharacters","validateNumberOnBlur","phoneInput","submitListener","packData","dataObject","customer_html","inputArray","customer_email","sendForm","data","customerData","JSON","stringify","ajax","url","site","ajax_url","type","success","response","stripResponse","trim","animateSuccess","error","form","display","validSuccess","submitBtn","event","preventDefault","inputs","each","i","e","object","name","push","toggleClass","textIcon","productLeft","productRight","handler","contentHeight","height","imageHeight","mainImage","complete","load","initVideo","vidUrl","vidFrame","attr","vidId","split","constructedHtml","addBtn","cart","prodTitle","cartNumber","cartInt","parseInt","text","product_id","dataType","updatedNum","remBtn","qtyElem","siblings","qty","quantity","animateMenu","mainMenu","updateHeaderOpen","addEventListener","updateHeaderClose","rawIconCss","cartIcon","rawSearchCss","searchForm","rawCartContCss","cartContents","iconRight","replace","searchRight","cartContRight","right","menuLinks","aHref","elem","menuHeaders","navigate","menuBtn","footer","footerPosition","position"],"mappings":"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","file":"main.min.js","sourcesContent":["// Test if ie10 - adds class \"ie10\" to HTML tag, if true. - Excludes IE11\nif (/*@cc_on!@*/false && document.documentMode === 10) {\n    document.documentElement.className+=' ie10';\n}\n\njQuery(document).on('ready', function() {\n  $ = jQuery;\n\n  new CartController();\n  new MenuController();\n  new gridCartController();\n  new embedVidController();\n  new productTextController();\n  new singleProductHeightController();\n  new removeFromCartController();\n  new reserveFormController();\n  new scrollHeaderController();\n\n  // labels for input fields\n  $(\"form :input\").focus(function() {\n    $(\"label[for='\" + this.id + \"']\").addClass(\"focus\");\n  }).blur(function() {\n    $(\"label\").removeClass(\"focus\");\n  });\n}); // End Ready\n\nvar scrollHeaderController = function() {\n  var linkHeader = $('body').find('.header-link-row'),\n      width = $(window).width(),\n      scroll;\n\n  $('body').on('scroll', modifyHeader);\n\n  function modifyHeader() {\n    scroll = $('body').scrollTop();\n\n    console.log(scroll);\n\n    if ( scroll > 200 ) {\n      $(linkHeader).addClass('hidden');\n    }\n    if ( scroll < 200 ) {\n      $(linkHeader).removeClass('hidden');\n    }\n  }\n}\n\nfunction validateEmail(email) {\n  var regex = /^(([^<>()[\\]\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i;\n  return regex.test(email);\n}\n\nfunction validateInput(input) {\n  var allowedChars = /^[\\u00C0-\\u1FFF\\u2C00-\\uD7FF\\w&.,\\- ]+$/;\n  return allowedChars.test(input);\n}\n\nfunction validateNumber(input) {\n  var isNumber = /^(?=.*[0-9])[+()0-9]+$/;\n  return isNumber.test(input);\n}\n\nvar reserveFormController = function() {\n  var form = $('body').find('form.reserve'),\n      emailInput = $(form).find('input[type=email]'),\n      nameInput = $(form).find('input[type=text].name'),\n      phoneInput = $(form).find('input[type=text].phone'),\n      submitBtn = $(form).find('.submit-btn > a');\n\n  function validateEmailOnBlur() {\n    $(emailInput).on('blur', function() {\n      var value = $(this).val();\n\n      if ( value.length === 0 ) {\n        if ( $(this).hasClass('error') ) {\n          $(this).removeClass('error');\n        }\n        return;\n      }\n\n      if ( value.length !== 0 ) {\n        var isEmail = validateEmail(value);\n\n        if( !isEmail && !$(this).hasClass('error') ) {\n          $(this).addClass('error');\n        }\n\n        if( isEmail && $(this).hasClass('error') ) {\n          $(this).removeClass('error');\n        }\n      }\n    });\n  }\n\n  function validateNameOnBlur() {\n    $(nameInput).on('blur', function() {\n      var value = $(this).val();\n\n      if ( value.length === 0 ) {\n        if ( $(this).hasClass('error') ) {\n          $(this).removeClass('error');\n        }\n        return;\n      }\n\n      if ( value.length !== 0 ) {\n        var isTrustedCharacters = validateInput(value);\n\n        if( !isTrustedCharacters && !$(this).hasClass('error') ) {\n          $(this).addClass('error');\n        }\n\n        if( isTrustedCharacters && $(this).hasClass('error') ) {\n          $(this).removeClass('error');\n        }\n      }\n    });\n  }\n\n  function validateNumberOnBlur() {\n    $(phoneInput).on('blur', function() {\n      var value = $(this).val();\n\n      if ( value.length === 0 ) {\n        if ( $(this).hasClass('error') ) {\n          $(this).removeClass('error');\n        }\n        return;\n      }\n\n      if ( value.length !== 0 ) {\n        var isNumber = validateNumber(value);\n\n        if ( !isNumber && !$(this).hasClass('error') ) {\n          $(this).addClass('error');\n        }\n\n        if ( isNumber && $(this).hasClass('error') ) {\n          $(this).removeClass('error');\n        }\n      }\n    });\n  }\n\n  function submitListener() {\n    $(submitBtn).on('click', function(event) {\n      event.preventDefault(),\n      inputs = $(form).find('input'),\n      validSuccess = $('body').find('.validation.success');\n      dataObject = {},\n      inputArray = [];\n\n      $(inputs).each(function(i, e) {\n        if ( $(e).hasClass('error') || $(e).val().length === 0 ) {\n          return;\n        } else {\n          var object = {\n            name: e.name,\n            value: $(e).val()\n          }\n          inputArray.push(object);\n        }\n      });\n\n      var data = packData();\n      sendForm(data);\n    });\n\n    function packData() {\n      dataObject.customer_html = '<h4>Navn:</h4><h2>' + inputArray[0].value + '</h2>';\n      dataObject.customer_html += '<h4>TLF:</h4><h2>' + inputArray[1].value + '</h2>';\n      dataObject.customer_html += '<h4>EMAIL:</h4><h2>' + inputArray[2].value + '</h2>';\n      dataObject.customer_email = inputArray[2].value;\n\n      return dataObject;\n    }\n\n    function sendForm(data) {\n      var customerData = JSON.stringify(data);\n\n        $.ajax({\n          url: site.ajax_url + '?action=reserve',\n          type: 'POST',\n          data: customerData,\n          success: function(response) {\n            var stripResponse = $.trim(response);\n            console.log(stripResponse);\n            if ( stripResponse === 'Success' ) {\n              animateSuccess();\n            }\n            if ( stripResponse === 'Error' ) {\n\n            }\n          },\n          error: function(response) {\n            console.log(response);\n\n          }\n        });\n    }\n\n    function animateSuccess() {\n      $(form).velocity({\n        'opacity': [0, 1]\n      }, {duration: 300, delay: 0, easing: 'easeOutSine', display: 'none'});\n\n      $(validSuccess).velocity({\n        'opacity': [1, 0]\n      }, {duration: 300, delay: 350, easing: 'easeOutSine', display: 'block'});\n\n      setTimeout(function() {\n        window.location.href = window.location.href;\n      }, 1000);\n    }\n  }\n\n\n  validateNumberOnBlur();\n  validateEmailOnBlur();\n  validateNameOnBlur();\n  submitListener();\n}\n\n\nfunction shopMsg(title, msg) {\n  var atcModal = $('body').find('.atc-modal');\n\n  if ( !msg ) {\n    var msg = '<span>- blev tilf√∏jet til kurven.</span>';\n  } else {\n    var msg = msg;\n  }\n\n  var html = title + msg;\n\n  $(atcModal).append(html);\n\n  function animate() {\n    $(atcModal).velocity({\n      'opacity': [1, 0],\n      'top': [100, 300],\n      'z-index': [5000, 5000]\n    }, {duration: 400, delay: 0, easing: 'easeInOutSine'});\n\n    $(atcModal).velocity({\n      'opacity': [0, 1],\n      'top': [300, 100],\n      'z-index': 5000\n    }, {duration: 400, delay: 1400, easing: 'easeInOutSine'});\n  }\n\n  setTimeout(function() {\n    animate();\n  }, 100);\n\n  setTimeout(function() {\n    $(atcModal).html('');\n    $(atcModal).css({\n      'z-index': -1000\n    });\n    window.location.href = window.location.href;\n  }, 2000);\n}\n\n\nvar productTextController = function() {\n  var textIcon = $('body').find('.text-icon'),\n      productLeft = $('body').find('.product-left'),\n      productRight = $('body').find('.product-right');\n\n  $(textIcon).on('click', function() {\n    toggleClass();\n  });\n\n  function toggleClass() {\n    $(textIcon).toggleClass('off');\n    $(productLeft).toggleClass('off');\n    $(productRight).toggleClass('off');\n  }\n\n  setTimeout(toggleClass, 800);\n}\n\nvar singleProductHeightController = function() {\n  var mainImage = $('.main-image img');\n\n  if ( mainImage && mainImage[0] ) {\n    if (mainImage[0].complete) {\n      handler();\n    } else {\n      mainImage.load(handler);\n    }\n  } else {\n    return false;\n  }\n\n  function handler() {\n    var contentHeight = $('.product-content').height(),\n        imageHeight = $('.main-image img').height();\n\n    if ( contentHeight && imageHeight < contentHeight ) {\n      $('.main-image').css({\n        'height': contentHeight + 'px'\n      });\n    } else {\n      return;\n    }\n  }\n}\n\nvar embedVidController = function() {\n  var vidFrame = $('body').find('.youtube-frame');\n\n  if ( vidFrame.length > 0 ) {\n    initVideo();\n  } else {\n    return;\n  }\n\n  function initVideo() {\n    var vidUrl = $(vidFrame).attr('data-href'),\n        vidId = vidUrl.split('/');\n\n    var width = $(window).width(),\n        height = (width / 16) * 9;\n\n    var constructedHtml = '<iframe width=\"' + width + '\" height=\"' + height + '\" src=\"https://www.youtube.com/embed/' + vidId[3] + '?rel=0&amp;showinfo=0\" frameborder=\"0\" allowfullscreen></iframe>';\n\n    $(vidFrame).html(constructedHtml);\n  }\n};\n\n\nvar gridCartController = function() {\n  var addBtn = $('body').find('.add-button'),\n      cart = $('body').find('.cart-contents');\n\n\n  $(addBtn).each(function(i, e) {\n    var id = $(this).attr('data-href'),\n        prodTitle = $(this).attr('data-title');\n\n    $(this).on('click', function(event) {\n      event.preventDefault();\n      var cartNumber = $('body').find('.cart-icon h5'),\n          cartInt = parseInt($('body').find('.cart-icon h5').text()),\n          url = site.ajax_url + '?action=sinus_add',\n          dataObject = {\n            'product_id': id\n          }\n\n      data = JSON.stringify(dataObject);\n\n      $.ajax({\n        url: url,\n        type: 'POST',\n        data: data,\n        dataType: 'html',\n        success: function(response) {\n          var updatedNum = cartInt + 1;\n          cartNumber.html(updatedNum);\n          $(cart).html(response);\n          shopMsg(prodTitle);\n        },\n        error: function(response) {\n          console.log('error -', response);\n        }\n      });\n    });\n  });\n};\n\nvar removeFromCartController = function() {\n    var cart = $('body').find('.cart-contents'),\n        remBtn = $(cart).find('.remove-icon');\n\n  $(remBtn).each(function(i, e) {\n    var id = $(this).attr('data-id'),\n        qtyElem = $(this).siblings('.elem-qty-total'),\n        qty = parseInt($(qtyElem).attr('data-qty'));\n\n\n    $(this).on('click', function() {\n      console.log(qty, id);\n      var cartNumber = $('body').find('.cart-icon h5'),\n          cartInt = parseInt($('body').find('.cart-icon h5').text()),\n          url = site.ajax_url + '?action=sinus_remove',\n          dataObject = {\n            'product_id': id,\n            'quantity': qty\n          }\n\n      data = JSON.stringify(dataObject);\n\n      $.ajax({\n        url: url,\n        type: 'POST',\n        data: data,\n        dataType: 'html',\n        success: function(response) {\n          var updatedNum = cartInt - qty;\n          cartNumber.html(updatedNum);\n          $(cart).html(response);\n          window.location.href = window.location.href;\n        },\n        error: function(response) {\n          console.log('error -', response);\n        }\n      });\n    });\n  });\n};\n\nvar MenuController = function() {\n  var menuBtn = $('body').find('.menu-icon'),\n      mainMenu = $('body').find('.main-menu'),\n      menuLinks = $(mainMenu).find('li'),\n      menuHeaders = $(mainMenu).find('h3'),\n      footer = $('body').find('footer'),\n      footerPosition = $(footer).position(),\n      searchForm = $('body').find('.search-form'),\n      cartIcon = $('body').find('.cart-icon'),\n      cartContents = $('body').find('.cart-modal.cart-contents'),\n      width = $(window).width();\n\n      // set menu height, relative to content height\n      $(mainMenu).css({\n        'height': footerPosition.top + 150 + 'px'\n      });\n\n      $(menuBtn).on('click', animateMenu);\n\n      function animateMenu() {\n        if ( $(mainMenu).hasClass('hidden') ) {\n          $(mainMenu).removeClass('hidden');\n          $(this).addClass('open');\n          updateHeaderOpen();\n          addEventListener();\n        } else {\n          $(mainMenu).addClass('hidden');\n          $(this).removeClass('open');\n          updateHeaderClose();\n        }\n      }\n\n      function updateHeaderOpen() {\n        var rawIconCss = $(cartIcon).css('right'),\n            rawSearchCss = $(searchForm).css('right'),\n            rawCartContCss = $(cartContents).css('right'),\n            iconRight = parseInt(rawIconCss.replace('px', '')),\n            searchRight = parseInt(rawSearchCss.replace('px', '')),\n            cartContRight = parseInt(rawCartContCss.replace('px', ''));\n\n\n            $(cartIcon).velocity({\n              'right': iconRight + 230 + 'px'\n            }, {duration: 400, delay: 100, easing: 'easeOutSine'});\n\n            $(searchForm).velocity({\n              'right': searchRight + 230 + 'px'\n            }, {duration: 400, delay: 0, easing: 'easeOutSine'});\n\n            $(cartContents).velocity({\n              'right': cartContRight + 230 + 'px'\n            }, {duration: 400, delay: 150, easing: 'easeOutSine'});\n      }\n\n      function updateHeaderClose() {\n            $(cartIcon).velocity({\n              'right': 90\n            }, {duration: 300, delay: 200, easing: 'easeOutSine'});\n\n            $(searchForm).velocity({\n              'right': 165\n            }, {duration: 300, delay: 300, easing: 'easeOutSine'});\n\n            $(cartContents).velocity({\n              'right': 80\n            }, {duration: 300, delay: 250, easing: 'easeOutSine'});\n      }\n\n      function addEventListener() {\n        $(menuLinks).on('click', function(e) {\n          e.preventDefault();\n          var aHref =  $(this).find('a');\n          var href = $(aHref).attr('href');\n\n          $(menuLinks).each(function(i, elem) {\n            var delay = i * 20;\n\n            $(elem).velocity({\n              'opacity': [0, 1]\n            }, {duration: 100, delay: delay, easing: 'easeInOutSine'});\n\n          });\n\n          $(menuHeaders).each(function(i, elem) {\n            var delay = i * 30;\n\n            $(elem).velocity({\n              'opacity': [0, 1]\n            }, {duration: 100, delay: delay, easing: 'easeInOutSine'});\n          });\n\n          setTimeout(navigate(href), 1200);\n        });\n      }\n\n      function navigate(href) {\n        setTimeout(function() {\n          $(menuBtn).removeClass('open');\n          $(mainMenu).addClass('hidden');\n          updateHeaderClose();\n        }, 1000);\n\n        setTimeout(function() {\n          window.location.href = href;\n        }, 1300);\n      }\n};\n\n\nvar CartController = function() {\n  var cartIcon = $('body').find('.cart-icon'),\n      cartContents = $('body').find('.cart-modal.cart-contents');\n\n  $(cartIcon).on('click', function(e) {\n    $(cartContents).toggleClass('hidden');\n  });\n}\n\n// var SineAnimation = function() {\n//   var container = $('body').find('.sine-animation'),\n//       imgContainer = $(container).find('.img-container');\n\n//       var options = {\n//         'duration': 5000,\n//         'delay': 8000,\n//         'easing': 'easeInOutSine',\n//         'loop': true\n//       }\n\n//       $(imgContainer).velocity({\n//         'left': [-310, 0]\n//       }, options);\n// };\n"],"sourceRoot":"/source/"}