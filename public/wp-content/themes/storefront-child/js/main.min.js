function validateEmail(t){var e=/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i;return e.test(t)}function validateInput(t){var e=/^[\u00C0-\u1FFF\u2C00-\uD7FF\w&.,\- ]+$/;return e.test(t)}function validateNumber(t){var e=/^(?=.*[0-9])[+()0-9]+$/;return e.test(t)}function shopMsg(t,e){function n(){$(i).velocity({opacity:[1,0],top:[100,300],"z-index":[5e3,5e3]},{duration:400,delay:0,easing:"easeInOutSine"}),$(i).velocity({opacity:[0,1],top:[300,100],"z-index":5e3},{duration:400,delay:1400,easing:"easeInOutSine"})}var i=$("body").find(".atc-modal");if(e)var e=e;else var e="<span>- blev tilf√∏jet til kurven.</span>";var a=t+e;$(i).append(a),setTimeout(function(){n()},100),setTimeout(function(){$(i).html(""),$(i).css({"z-index":-1e3}),window.location.href=window.location.href},2e3)}jQuery(document).on("ready",function(){$=jQuery,new CartController,new MenuController,new gridCartController,new embedVidController,new productTextController,new singleProductHeightController,new removeFromCartController,new reserveFormController,$("form :input").focus(function(){$("label[for='"+this.id+"']").addClass("focus")}).blur(function(){$("label").removeClass("focus")})});var reserveFormController=function(){function t(){$(o).on("blur",function(){var t=$(this).val();if(0===t.length)return void($(this).hasClass("error")&&$(this).removeClass("error"));if(0!==t.length){var e=validateEmail(t);e||$(this).hasClass("error")||$(this).addClass("error"),e&&$(this).hasClass("error")&&$(this).removeClass("error")}})}function e(){$(r).on("blur",function(){var t=$(this).val();if(0===t.length)return void($(this).hasClass("error")&&$(this).removeClass("error"));if(0!==t.length){var e=validateInput(t);e||$(this).hasClass("error")||$(this).addClass("error"),e&&$(this).hasClass("error")&&$(this).removeClass("error")}})}function n(){$(s).on("blur",function(){var t=$(this).val();if(0===t.length)return void($(this).hasClass("error")&&$(this).removeClass("error"));if(0!==t.length){var e=validateNumber(t);e||$(this).hasClass("error")||$(this).addClass("error"),e&&$(this).hasClass("error")&&$(this).removeClass("error")}})}function i(){function t(){return dataObject.customer_html="<h4>Navn:</h4><h2>"+inputArray[0].value+"</h2>",dataObject.customer_html+="<h4>TLF:</h4><h2>"+inputArray[1].value+"</h2>",dataObject.customer_html+="<h4>EMAIL:</h4><h2>"+inputArray[2].value+"</h2>",dataObject.customer_email=inputArray[2].value,dataObject}function e(t){var e=JSON.stringify(t);$.ajax({url:site.ajax_url+"?action=reserve",type:"POST",data:e,success:function(t){var e=$.trim(t);console.log(e),"Success"===e&&n()},error:function(t){console.log(t)}})}function n(){$(a).velocity({opacity:[0,1]},{duration:300,delay:0,easing:"easeOutSine",display:"none"}),$(validSuccess).velocity({opacity:[1,0]},{duration:300,delay:350,easing:"easeOutSine",display:"block"}),setTimeout(function(){window.location.href=window.location.href},1e3)}$(l).on("click",function(n){n.preventDefault(),inputs=$(a).find("input"),validSuccess=$("body").find(".validation.success"),dataObject={},inputArray=[],$(inputs).each(function(t,e){if(!$(e).hasClass("error")&&0!==$(e).val().length){var n={name:e.name,value:$(e).val()};inputArray.push(n)}});var i=t();e(i)})}var a=$("body").find("form.reserve"),o=$(a).find("input[type=email]"),r=$(a).find("input[type=text].name"),s=$(a).find("input[type=text].phone"),l=$(a).find(".submit-btn > a");n(),t(),e(),i()},productTextController=function(){function t(){$(e).toggleClass("off"),$(n).toggleClass("off"),$(i).toggleClass("off")}var e=$("body").find(".text-icon"),n=$("body").find(".product-left"),i=$("body").find(".product-right");$(e).on("click",function(){t()}),setTimeout(t,800)},singleProductHeightController=function(){function t(){var t=$(".product-content").height(),e=$(".main-image img").height();t&&t>e&&$(".main-image").css({height:t+"px"})}var e=$(".main-image img");return e&&e[0]?void(e[0].complete?t():e.load(t)):!1},embedVidController=function(){function t(){var t=$(e).attr("data-href"),n=t.split("/"),i=$(window).width(),a=i/16*9,o='<iframe width="'+i+'" height="'+a+'" src="https://www.youtube.com/embed/'+n[3]+'?rel=0&amp;showinfo=0" frameborder="0" allowfullscreen></iframe>';$(e).html(o)}var e=$("body").find(".youtube-frame");e.length>0&&t()},gridCartController=function(){var t=$("body").find(".add-button"),e=$("body").find(".cart-contents");$(t).each(function(t,n){var i=$(this).attr("data-href"),a=$(this).attr("data-title");$(this).on("click",function(t){t.preventDefault();var n=$("body").find(".cart-icon h5"),o=parseInt($("body").find(".cart-icon h5").text()),r=site.ajax_url+"?action=sinus_add",s={product_id:i};data=JSON.stringify(s),$.ajax({url:r,type:"POST",data:data,dataType:"html",success:function(t){var i=o+1;n.html(i),$(e).html(t),shopMsg(a)},error:function(t){console.log("error -",t)}})})})},removeFromCartController=function(){var t=$("body").find(".cart-contents"),e=$(t).find(".remove-icon");$(e).each(function(e,n){var i=$(this).attr("data-id"),a=$(this).siblings(".elem-qty-total"),o=parseInt($(a).attr("data-qty"));$(this).on("click",function(){console.log(o,i);var e=$("body").find(".cart-icon h5"),n=parseInt($("body").find(".cart-icon h5").text()),a=site.ajax_url+"?action=sinus_remove",r={product_id:i,quantity:o};data=JSON.stringify(r),$.ajax({url:a,type:"POST",data:data,dataType:"html",success:function(i){var a=n-o;e.html(a),$(t).html(i),window.location.href=window.location.href},error:function(t){console.log("error -",t)}})})})},MenuController=function(){function t(){$(r).hasClass("hidden")?($(r).removeClass("hidden"),$(this).addClass("open"),e(),i()):($(r).addClass("hidden"),$(this).removeClass("open"),n())}function e(){var t=$(f).css("right"),e=$(u).css("right"),n=$(h).css("right"),i=parseInt(t.replace("px","")),a=parseInt(e.replace("px","")),o=parseInt(n.replace("px",""));$(f).velocity({right:i+230+"px"},{duration:400,delay:100,easing:"easeOutSine"}),$(u).velocity({right:a+230+"px"},{duration:400,delay:0,easing:"easeOutSine"}),$(h).velocity({right:o+230+"px"},{duration:400,delay:150,easing:"easeOutSine"})}function n(){$(f).velocity({right:90},{duration:300,delay:200,easing:"easeOutSine"}),$(u).velocity({right:165},{duration:300,delay:300,easing:"easeOutSine"}),$(h).velocity({right:80},{duration:300,delay:250,easing:"easeOutSine"})}function i(){$(s).on("click",function(t){t.preventDefault();var e=$(this).find("a"),n=$(e).attr("href");$(s).each(function(t,e){var n=20*t;$(e).velocity({opacity:[0,1]},{duration:100,delay:n,easing:"easeInOutSine"})}),$(l).each(function(t,e){var n=30*t;$(e).velocity({opacity:[0,1]},{duration:100,delay:n,easing:"easeInOutSine"})}),setTimeout(a(n),1200)})}function a(t){setTimeout(function(){$(o).removeClass("open"),$(r).addClass("hidden"),n()},1e3),setTimeout(function(){window.location.href=t},1300)}var o=$("body").find(".menu-icon"),r=$("body").find(".main-menu"),s=$(r).find("li"),l=$(r).find("h3"),c=$("body").find("footer"),d=$(c).position(),u=$("body").find(".search-form"),f=$("body").find(".cart-icon"),h=$("body").find(".cart-modal.cart-contents");$(window).width();$(r).css({height:d.top+150+"px"}),$(o).on("click",t)},CartController=function(){var t=$("body").find(".cart-icon"),e=$("body").find(".cart-modal.cart-contents");$(t).on("click",function(t){$(e).toggleClass("hidden")})};
//# sourceMappingURL=main.min.js.map
